services:
  ariang:
    image: hurlenko/aria2-ariang
    container_name: ${CONTAINER_NAME:-aria2-ui}
    ports:
      - "${WEBUI_PORT:-8080}:8080"
    volumes:
      - ${DOWNLOADS_PATH:-./downloads}:/aria2/data
      - ${CONFIG_PATH:-./config}:/aria2/conf
    environment:
      - PUID=${PUID:-1000}
      - PGID=${PGID:-1004}
      - RPC_SECRET=${RPC_SECRET:-your-secret-here}
      - ARIA2RPCPORT=${ARIA2RPCPORT:-443}
      - EMBED_RPC_SECRET=${EMBED_RPC_SECRET:-false}
    restart: unless-stopped
    healthcheck:
      test: ["CMD-SHELL", "netstat -an | grep 6800 > /dev/null; if [ 0 != $$? ]; then exit 1; fi;"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s

networks:
  default:
    name: aria2-ui
    driver: bridge
