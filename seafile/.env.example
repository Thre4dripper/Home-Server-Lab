# Seafile Pro Edition Configuration Template
# Copy this file to .env and update with your actual values

COMPOSE_FILE='docker-compose.yml,seadoc.yml'
COMPOSE_PATH_SEPARATOR=','

# Seafile & Basic services

## Images
SEAFILE_IMAGE=seafileltd/seafile-pro-mc:12.0-latest
SEAFILE_DB_IMAGE=mariadb:10.11
SEAFILE_MEMCACHED_IMAGE=memcached:1.6.29
SEAFILE_ELASTICSEARCH_IMAGE=elasticsearch:8.15.0

## Persistent Storage (Bind Mounts)
SEAFILE_VOLUME=./data/seafile
SEAFILE_MYSQL_VOLUME=./data/mysql
SEAFILE_ELASTICSEARCH_VOLUME=./data/elasticsearch

## Database
SEAFILE_MYSQL_DB_HOST=db
SEAFILE_MYSQL_DB_USER=seafile
SEAFILE_MYSQL_DB_PASSWORD=your_secure_db_password

## Scheme (Direct HTTP Access)
SEAFILE_SERVER_HOSTNAME=your-server-ip:8000
SEAFILE_SERVER_PROTOCOL=http

## Startup parameters
TIME_ZONE=UTC
JWT_PRIVATE_KEY=your_jwt_private_key_here

## Initial variables (can be removed after first startup)

### Database root password
INIT_SEAFILE_MYSQL_ROOT_PASSWORD=your_mysql_root_password

### Seafile admin user
INIT_SEAFILE_ADMIN_EMAIL=admin@yourdomain.com
INIT_SEAFILE_ADMIN_PASSWORD=your_admin_password

### S3 (Optional - set to false for local storage)
INIT_S3_STORAGE_BACKEND_CONFIG=false
INIT_S3_COMMIT_BUCKET=<your-commit-objects>
INIT_S3_FS_BUCKET=<your-fs-objects>
INIT_S3_BLOCK_BUCKET=<your-block-objects>
INIT_S3_KEY_ID=<your-key-id>
INIT_S3_SECRET_KEY=<your-secret-key>
INIT_S3_USE_V4_SIGNATURE=true
INIT_S3_AWS_REGION=us-east-1
INIT_S3_HOST=
INIT_S3_USE_HTTPS=true

# SeaDoc service (Document Editor)
ENABLE_SEADOC=true
SEADOC_IMAGE=seafileltd/sdoc-server:1.0-latest
SEADOC_VOLUME=./data/seadoc

# Notification server
NOTIFICATION_SERVER_IMAGE=seafileltd/notification-server:12.0-latest
NOTIFICATION_SERVER_VOLUME=./data/notification

# SeaSearch (Optional AI Search)

## Image
#SEASEARCH_IMAGE=seafileltd/seasearch-nomkl:0.9-latest # Apple's Chip
SEASEARCH_IMAGE=seafileltd/seasearch:0.9-latest

## Storage
SS_STORAGE_TYPE=disk # disk (local storage), s3, oss

### Local storage mode
SS_DATA_PATH=./data/seasearch # Persistent storage path
SS_MAX_OBJ_CACHE_SIZE=10GB

### S3 mode (if using S3 for SeaSearch)
SS_S3_USE_V4_SIGNATURE=false
SS_S3_ACCESS_ID=<your access id>
SS_S3_ACCESS_SECRET=<your access secret>
SS_S3_ENDPOINT=
SS_S3_BUCKET=<your bucket name>
SS_S3_USE_HTTPS=true
SS_S3_PATH_STYLE_REQUEST=true
SS_S3_AWS_REGION=us-east-1
SS_S3_SSE_C_KEY=<your SSE-C key>

## Log
SS_LOG_TO_STDOUT=false
SS_LOG_OUTPUT=true
SS_LOG_LEVEL=info

## Initial variables (can be removed after first startup SeaSearch service)
INIT_SS_ADMIN_USER=<admin-username>
INIT_SS_ADMIN_PASSWORD=<admin-password>

# Security Notes:
# 1. Change all passwords to strong, unique values
# 2. Set SEAFILE_SERVER_HOSTNAME to your actual server IP/domain
# 3. Generate a secure JWT_PRIVATE_KEY
# 4. Never commit the actual .env file to git